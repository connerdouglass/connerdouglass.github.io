var y=Object.defineProperty;var p=(n,e,t)=>e in n?y(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var h=(n,e,t)=>p(n,typeof e!="symbol"?e+"":e,t);import{s as k,d as b,u as E,g as $,e as v,f as F}from"../chunks/scheduler.BxLpWqHu.js";import{S as O,i as S,e as u,c as d,a as f,d as m,o as A,g as I,h as L,n as w,l as G}from"../chunks/index.C7rnCF48.js";const a=class a{constructor(e,t){h(this,"theme_listeners",[]);this.default_theme=e,this.themes=t}get_system_theme(){return window.matchMedia("(prefers-color-scheme: dark)").matches?this.get_theme_by_key("dark"):this.get_theme_by_key("light")}get_stored_theme(){const e=localStorage.getItem(a.STORAGE_KEY);return e===null?null:this.get_theme_by_key(e)}get_theme(){return this.get_stored_theme()??this.get_system_theme()??this.default_theme}set_theme(e){localStorage.setItem(a.STORAGE_KEY,e);const t=this.get_theme();this.theme_listeners.forEach(o=>o(t))}add_listener(e){this.theme_listeners.push(e),e(this.get_theme())}remove_listener(e){this.theme_listeners=this.theme_listeners.filter(t=>t!==e)}cycle(){const e=this.get_theme(),t=this.themes.indexOf(e);this.set_theme(this.themes[(t+1)%this.themes.length].key)}get_theme_by_key(e){return this.themes.find(t=>t.key===e)??null}mount(e){this.add_listener(t=>{for(let o of this.themes)if(o==t){e.classList.add(`theme-${o.key}`);for(let i of Object.keys(o.style))document.documentElement.style.setProperty(i,o.style[i])}else e.classList.remove(`theme-${o.key}`)})}};h(a,"STORAGE_KEY","theme");let _=a;const K={key:"dark",style:{"--background-color":"#223","--background-color-rgb":"34, 34, 51","--primary-font-color":"#FFF","--primary-font-color-rgb":"255, 255, 255"}},g={key:"light",style:{"--background-color":"#FFF","--background-color-rgb":"255, 255, 255","--primary-font-color":"#000","--primary-font-color-rgb":"0, 0, 0"}};function R(n){let e,t,o;const i=n[1].default,r=b(i,n,n[0],null);return{c(){e=u("div"),t=u("main"),r&&r.c(),this.h()},l(s){e=d(s,"DIV",{class:!0});var l=f(e);t=d(l,"MAIN",{});var c=f(t);r&&r.l(c),c.forEach(m),l.forEach(m),this.h()},h(){A(e,"class","app")},m(s,l){I(s,e,l),L(e,t),r&&r.m(t,null),o=!0},p(s,[l]){r&&r.p&&(!o||l&1)&&E(r,i,s,s[0],o?v(i,s[0],l,null):$(s[0]),null)},i(s){o||(w(r,s),o=!0)},o(s){G(r,s),o=!1},d(s){s&&m(e),r&&r.d(s)}}}function T(n,e,t){let{$$slots:o={},$$scope:i}=e;const r=new _(g,[g,K]);return F("themes_service",r),r.mount(document.body),n.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,o]}class M extends O{constructor(e){super(),S(this,e,T,R,k,{})}}export{M as component};
